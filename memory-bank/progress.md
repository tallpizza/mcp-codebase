# ν”„λ΅μ νΈ μ§„ν–‰ μƒν™©

## μ™„λ£λ μ‘μ—…

- β… ν”„λ΅μ νΈ μ΄κΈ°ν™”
- β… κΈ°λ³Έ Hono μ•± μ„¤μ •
- β… TypeScript μ„¤μ •
- β… λ©”λ¨λ¦¬ λ±…ν¬ μ΄κΈ°ν™”
- β… μ½”λ“ μ²­ν¬ λ°μ΄ν„° λ¨λΈ μ •μ
- β… ν”„λ΅μ νΈ κ΄€λ¦¬ λ° ν•„ν„°λ§ μ”κµ¬μ‚¬ν•­ μ¶”κ°€
- β… LSP ν†µν•© λ° μ½”λ“ μ²­ν‚Ή μ„Έλ¶€ μ„¤κ³„
- β… λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§ μ„¤κ³„ λ° κµ¬ν„ (src/db/schema.ts)
- β… pgvector ν¨ν‚¤μ§€ μ„¤μΉ
- β… PostgreSQL μ„¤μ • λ° pgvector ν™•μ¥ ν™μ„±ν™”
- β… λ°μ΄ν„°λ² μ΄μ¤ λ§μ΄κ·Έλ μ΄μ… μ„¤μ • λ° μ‹¤ν–‰
- β… LSP ν΄λΌμ΄μ–ΈνΈ κµ¬ν„ (src/services/lspClient.ts)
- β… μ½”λ“ μ²­ν‚Ή μ„λΉ„μ¤ κµ¬ν„ (src/services/codeChunkingService.ts)
- β… μ½”λ“ μ²­ν¬ μ €μ¥μ† κµ¬ν„ (src/services/codeChunkRepository.ts)
- β… ν”„λ΅μ νΈ κ΄€λ¦¬ API κµ¬ν„ (src/routes/projects.ts)
- β… νμΌ μ‹μ¤ν… κ΄€λ ¨ μ—”λ“ν¬μΈνΈ κµ¬ν„ (src/routes/files.ts)
- β… κΈ°λ³Έ API λΌμ°ν… μ„¤μ •
- β… ν”„λ΅μ νΈ μƒμ„± μ‹ κ²½λ΅μ—μ„ μλ™ μ΄λ¦„ μ¶”μ¶ κΈ°λ¥ κµ¬ν„
- β… μ½”λ“ μ²­ν‚Ή API μ¤λ¥ ν•΄κ²° (LSP ν΄λΌμ΄μ–ΈνΈ λ° μ—λ¬ μ²λ¦¬ κ°μ„ )

## μ§„ν–‰ μ¤‘μΈ μ‘μ—…

- π”„ API μ—”λ“ν¬μΈνΈ μ„¤κ³„
- π”„ ν•„μ”ν• μμ΅΄μ„± μ΅°μ‚¬
- π”„ νμΌ μ‹μ¤ν… λ¨λ“ κµ¬ν„
- π”„ ν”„λ΅μ νΈ κ΄€λ¦¬ μ„λΉ„μ¤ κµ¬ν„

## λ‚¨μ€ μ‘μ—…

- β¬ OpenAI API μ—°κ²° λ° μ„λ² λ”© μ„λΉ„μ¤ κµ¬ν„
- β¬ μ„λ² λ”© μƒμ„± κΈ°λ¥ κµ¬ν„
- β¬ λ²΅ν„° κ²€μƒ‰ μΏΌλ¦¬ κµ¬ν„ (ν”„λ΅μ νΈλ³„ ν•„ν„°λ§ ν¬ν•¨)
- β¬ μ½”λ“ μ΅°κ° κ²€μƒ‰ API κµ¬ν„
- β¬ μ—λ¬ μ²λ¦¬ λ° λ΅κΉ… μ¶”κ°€
- β¬ ν…μ¤νΈ μ½”λ“ μ‘μ„±
- β¬ μµμ ν™” λ° μ„±λ¥ κ°μ„ 

## ν„μ¬ μƒνƒ

ν„μ¬ ν”„λ΅μ νΈλ” κΈ°λ³Έ κΈ°λ¥ κµ¬ν„ λ‹¨κ³„λ΅, ν•µμ‹¬ μ„λΉ„μ¤λ“¤μ΄ κµ¬ν„λκ³  μμµλ‹λ‹¤. PostgreSQL λ°μ΄ν„°λ² μ΄μ¤κ°€ μ„¤μ •λμ–΄ μμΌλ©°, pgvector ν™•μ¥μ΄ ν™μ„±ν™”λμ–΄ λ²΅ν„° κ²€μƒ‰μ„ μ§€μ›ν•  μ¤€λΉ„κ°€ λμ—μµλ‹λ‹¤.

**μµκ·Ό μ—…λ°μ΄νΈ:**

- PostgreSQL λ°μ΄ν„°λ² μ΄μ¤ μ„¤μ • λ° pgvector ν™•μ¥ ν™μ„±ν™”κ°€ μ™„λ£λμ—μµλ‹λ‹¤.
- λ°μ΄ν„°λ² μ΄μ¤ λ§μ΄κ·Έλ μ΄μ…μ΄ μ„±κ³µμ μΌλ΅ μ‹¤ν–‰λμ–΄ ν…μ΄λΈ”μ΄ μƒμ„±λμ—μµλ‹λ‹¤.
- LSP ν΄λΌμ΄μ–ΈνΈκ°€ κµ¬ν„λμ–΄ TypeScript/JavaScript νμΌμ μ½”λ“ μ‹¬λ³Όμ„ μ¶”μ¶ν•  μ μκ² λμ—μµλ‹λ‹¤.
- μ½”λ“ μ²­ν‚Ή μ„λΉ„μ¤κ°€ κµ¬ν„λμ–΄ νμΌμ΄λ‚ ν”„λ΅μ νΈ μ „μ²΄μ—μ„ μ½”λ“ μ²­ν¬λ¥Ό μ¶”μ¶ν•  μ μμµλ‹λ‹¤.
- μ½”λ“ μ²­ν¬ μ €μ¥μ†κ°€ κµ¬ν„λμ–΄ μ½”λ“ μ²­ν¬λ¥Ό λ°μ΄ν„°λ² μ΄μ¤μ— μ €μ¥ν•κ³  μ΅°νν•  μ μμµλ‹λ‹¤.
- ν”„λ΅μ νΈ κ΄€λ¦¬ API λΌμ°ν„°κ°€ κµ¬ν„λμ–΄ ν”„λ΅μ νΈ CRUD λ° μ½”λ“ μ²­ν‚Ήμ„ μ„ν• μ—”λ“ν¬μΈνΈκ°€ μ κ³µλ©λ‹λ‹¤.
- νμΌ μ‹μ¤ν… API λΌμ°ν„°κ°€ κµ¬ν„λμ–΄ λ””λ ‰ν† λ¦¬ λ©λ΅ μ΅°ν λ° νμΌ λ‚΄μ© μ΅°ν κΈ°λ¥μ΄ μ κ³µλ©λ‹λ‹¤.
- μ‚¬μ©μ κ²½ν— κ°μ„ : ν”„λ΅μ νΈ μƒμ„± μ‹ ν”„λ΅μ νΈ κ²½λ΅μ λ§μ§€λ§‰ ν΄λ” μ΄λ¦„μ„ μλ™μΌλ΅ ν”„λ΅μ νΈ μ΄λ¦„μΌλ΅ μ„¤μ •ν•λ” κΈ°λ¥μ΄ μ¶”κ°€λμ—μµλ‹λ‹¤.
- μ½”λ“ μ²­ν‚Ή API μ¤λ¥ λ¬Έμ κ°€ ν•΄κ²°λμ—μµλ‹λ‹¤:
  - LSP ν΄λΌμ΄μ–ΈνΈμ tsserver κ²½λ΅ μµμ… μ κ±° (μ¤λ¥ μ›μΈ)
  - κ°λ³„ νμΌ μ¤λ¥κ°€ μ „μ²΄ μ²­ν‚Ή ν”„λ΅μ„Έμ¤λ¥Ό μ¤‘λ‹¨μ‹ν‚¤μ§€ μ•λ„λ΅ μ—λ¬ μ²λ¦¬ κ°μ„ 
  - μ²­ν‚Ή API μ—”λ“ν¬μΈνΈμ—μ„ λ” μμ„Έν• μ¤λ¥ μ •λ³΄ μ κ³µ
  - μ²­ν‚Ή μ„λΉ„μ¤ μΆ…λ£ μ‹ μ¤λ¥ μ²λ¦¬ κ°•ν™”

λ‹¤μ ν•µμ‹¬ κΈ°λ¥μ΄ κµ¬ν„λμ—μµλ‹λ‹¤:

1. **LSP ν†µν•©**:

   - typescript-language-serverμ™€ μ—°κ²°ν•λ” LSP ν΄λΌμ΄μ–ΈνΈ κµ¬ν„
   - μ½”λ“ μ‹¬λ³Ό μ¶”μ¶ λ° νƒ€μ… ν•„ν„°λ§ κΈ°λ¥ κµ¬ν„
   - λ¬Έμ„ μ‹¬λ³Όμ„ ν†µν•©ν•μ—¬ μ²λ¦¬ν•λ” λ΅μ§ κµ¬ν„
   - ν”„λ΅μ νΈ κ²½λ΅ κΈ°λ° μ»¨ν…μ¤νΈ μ„¤μ •
   - μ„λ²„ μ‹μ‘ λ° μ΄κΈ°ν™” μ¤λ¥ ν•΄κ²°

2. **μ½”λ“ μ²­ν‚Ή**:

   - μ‹¬λ³Ό μ •λ³΄λ¥Ό κΈ°λ°μΌλ΅ μ½”λ“ μ²­ν¬ μ¶”μ¶ κµ¬ν„
   - ν•¨μ, ν΄λμ¤, μΈν„°νμ΄μ¤/νƒ€μ… μ¶”μ¶ κµ¬ν„
   - μ¬κ·€μ μΈ νμΌ νƒμƒ‰ κΈ°λ¥ κµ¬ν„
   - ν”„λ΅μ νΈ μ „μ²΄ μ²­ν‚Ή κΈ°λ¥ κµ¬ν„
   - λ‹¨μΌ νμΌ μ²­ν‚Ή κΈ°λ¥ κµ¬ν„
   - μ²­ν‚Ή μ¤λ¥ λ°μƒ μ‹ μ•μ •μ μΈ μ²λ¦¬ κµ¬ν„

3. **λ°μ΄ν„°λ² μ΄μ¤ ν†µν•©**:

   - PostgreSQL + pgvector μ„¤μ • μ™„λ£
   - μ½”λ“ μ²­ν¬ μ €μ¥μ† κµ¬ν„ μ™„λ£
   - ν”„λ΅μ νΈ λ° μ½”λ“ μ²­ν¬ CRUD κΈ°λ¥ κµ¬ν„
   - ν”„λ΅μ νΈλ³„ μ½”λ“ μ²­ν¬ ν•„ν„°λ§ κµ¬ν„

4. **API κµ¬ν„**:
   - ν”„λ΅μ νΈ κ΄€λ¦¬ API κµ¬ν„
   - νμΌ μ‹μ¤ν… API κµ¬ν„
   - RESTful μ—”λ“ν¬μΈνΈ μ„¤κ³„ λ° κµ¬ν„
   - JSON μ‘λ‹µ ν¬λ§· ν‘μ¤€ν™”
   - μλ™ ν”„λ΅μ νΈ μ΄λ¦„ μ„¤μ •μΌλ΅ μ‚¬μ©μ νΈμμ„± κ°μ„ 
   - μ—λ¬ μ²λ¦¬ λ° μƒμ„Έ μ¤λ¥ μ •λ³΄ κ°μ„ 

λ‹¤μ μ‘μ—… μ¤‘μ μ€ OpenAI APIλ¥Ό μ‚¬μ©ν• μ„λ² λ”© μƒμ„± λ° λ²΅ν„° κ²€μƒ‰ κµ¬ν„μ…λ‹λ‹¤.

## μ•λ ¤μ§„ μ΄μ

- μ„λ² λ”© ν•„λ“λ” μ•„μ§ κµ¬ν„λμ§€ μ•μ•„ μ„μ‹λ΅ λΉ λ°°μ—΄μ„ μ‚¬μ© μ¤‘μ…λ‹λ‹¤.
- μ½”λ“ μμ΅΄μ„± λ¶„μ„ κΈ°λ¥μ΄ μ•„μ§ κµ¬ν„λμ§€ μ•μ•μµλ‹λ‹¤.
- λ™μ‹μ— μ—¬λ¬ LSP ν΄λΌμ΄μ–ΈνΈλ¥Ό μ‹¤ν–‰ν•  κ²½μ° λ¦¬μ†μ¤ μ‚¬μ©λ‰μ΄ λ§μ„ μ μμµλ‹λ‹¤.
- λ€κ·λ¨ ν”„λ΅μ νΈμ—μ„ μ „μ²΄ μ½”λ“ μ²­ν‚Ήμ€ μ‹κ°„μ΄ μ¤λ κ±Έλ¦΄ μ μμΌλ―€λ΅ μµμ ν™”κ°€ ν•„μ”ν•©λ‹λ‹¤.

## λ‹¤μ λ§μΌμ¤ν†¤

1. **μ„λ² λ”© μ„λΉ„μ¤ κµ¬ν„** - μμƒ κΈ°κ°„: 1-2μΌ
2. **μ½”λ“ κ²€μƒ‰ API κµ¬ν„** - μμƒ κΈ°κ°„: 1-2μΌ
3. **μΆ…ν•© ν…μ¤νΈ λ° μµμ ν™”** - μμƒ κΈ°κ°„: 2-3μΌ

## μ‘λ™ν•λ” λ¶€λ¶„

1. **ν”„λ΅μ νΈ κ΄€λ¦¬ κΈ°λ¥**:

   - ν”„λ΅μ νΈ μƒμ„±, μ΅°ν, μμ •, μ‚­μ  API
   - ν”„λ΅μ νΈ λ©”νƒ€λ°μ΄ν„° κ΄€λ¦¬

2. **κΈ°λ³Έ νμΌ μ‹μ¤ν… μ„λΉ„μ¤**:

   - ν”„λ΅μ νΈ λ‚΄ νμΌ νƒμƒ‰
   - νμΌ λ‚΄μ© μ½κΈ°

3. **LSP ν΄λΌμ΄μ–ΈνΈ**:

   - TypeScript μ½”λ“ μ‹¬λ³Ό μ¶”μ¶
   - νμΌ λ‚΄ ν•¨μ, ν΄λμ¤, μΈν„°νμ΄μ¤ λ“± νμ‹±

4. **μ½”λ“ μ²­ν‚Ή μ„λΉ„μ¤**:

   - νμΌ λ‹¨μ„ μ½”λ“ μ²­ν‚Ή
   - ν”„λ΅μ νΈ μ „μ²΄ μ½”λ“ μ²­ν‚Ή
   - λ””λ ‰ν† λ¦¬ λ‹¨μ„ μ½”λ“ μ²­ν‚Ή (μƒλ΅ μ¶”κ°€)
   - μ½”λ“ μ‹¬λ³Ό μ¶”μ¶ λ° μ²­ν¬ μƒμ„±
   - μ—λ¬ μ²λ¦¬ λ° λ΅κΉ… κ°μ„ 

5. **μ½”λ“ μ²­ν¬ μ €μ¥ λ° κ΄€λ¦¬**:

   - μ½”λ“ μ²­ν¬ DB μ €μ¥
   - ν”„λ΅μ νΈλ³„ μ½”λ“ μ²­ν¬ μ΅°ν
   - μ½”λ“ μ²­ν¬ μ¶©λ μ²λ¦¬ (κ°™μ€ κ²½λ΅/μ΄λ¦„μ„ κ°€μ§„ μ²­ν¬ κ°±μ‹ )

6. **API μ—”λ“ν¬μΈνΈ**:
   - ν”„λ΅μ νΈ CRUD μ—”λ“ν¬μΈνΈ
   - μ½”λ“ μ²­ν‚Ή μ—”λ“ν¬μΈνΈ
   - λ””λ ‰ν† λ¦¬ μ½”λ“ μ²­ν‚Ή μ—”λ“ν¬μΈνΈ (μƒλ΅ μ¶”κ°€)
   - μ½”λ“ μ²­ν¬ μ΅°ν μ—”λ“ν¬μΈνΈ

## ν„μ¬ μƒνƒ

- **μ½”λ“ μ²­ν‚Ή μ„λΉ„μ¤ κ°μ„  μ™„λ£**: λ””λ ‰ν† λ¦¬ λ‹¨μ„ μ²­ν‚Ή κΈ°λ¥ μ¶”κ°€ λ° μ¤λ¥ μ²λ¦¬ κ°•ν™”
- **LSP ν΄λΌμ΄μ–ΈνΈ μ•μ •μ„± ν–¥μƒ**: μ„λ²„ μ‹μ‘, μ—°κ²°, μ΄κΈ°ν™” κ³Όμ •μ μ¬μ‹λ„ λ΅μ§ λ° λ΅κΉ… κ°•ν™”
- **μ²­ν¬ μ €μ¥ μµμ ν™”**: μ¶©λ μ²λ¦¬ λ΅μ§μΌλ΅ μ²­ν¬ μ—…λ°μ΄νΈ κµ¬ν„
- **νƒ€μ… μ•μ „μ„± κ°μ„ **: μ„λΉ„μ¤ κ°μ²΄μ™€ DB μ¤ν‚¤λ§ κ°μ²΄ κ°„ λ§¤ν•‘ κµ¬ν„

## μ•λ ¤μ§„ λ¬Έμ 

1. **μ„λ² λ”© μ„λΉ„μ¤**: μ•„μ§ κµ¬ν„λμ§€ μ•μ•„ μ½”λ“ μ²­ν¬ λ²΅ν„°ν™”κ°€ λ¶κ°€λ¥
2. **μμ΅΄μ„± λ¶„μ„**: μ½”λ“ μ²­ν¬ κ°„ μμ΅΄μ„± λ¶„μ„ κΈ°λ¥ λ―Έκµ¬ν„
3. **μ„±λ¥ μµμ ν™”**: λ€κ·λ¨ μ½”λ“λ² μ΄μ¤ μ²λ¦¬ μ‹ μ„±λ¥ μ΄μ κ°€λ¥μ„±
4. **ν…μ¤νΈ λ¶€μ΅±**: ν†µν•© ν…μ¤νΈ λ° λ‹¨μ„ ν…μ¤νΈ λ―Έκµ¬ν„

## κµ¬μ¶•ν•΄μ•Ό ν•  λ‚λ¨Έμ§€ λ¶€λ¶„

1. **μ„λ² λ”© μ„λΉ„μ¤ κµ¬ν„**:

   - OpenAI API μ—°λ™
   - μ½”λ“ μ²­ν¬ ν…μ¤νΈ μ„λ² λ”© μƒμ„±
   - μ„λ² λ”© λ²΅ν„° μ €μ¥ λ° κ΄€λ¦¬

2. **λ²΅ν„° κ²€μƒ‰ κΈ°λ¥**:

   - μ½”λ“ μ²­ν¬ μλ―Έμ  κ²€μƒ‰
   - κ΄€λ ¨ μ½”λ“ μ²­ν¬ μ¶”μ²
   - μ½”λ“ μ¤‘λ³µ λ° μ μ‚¬μ„± λ¶„μ„

3. **μ½”λ“ λ¶„μ„ κΈ°λ¥ κ°•ν™”**:

   - μ½”λ“ μ²­ν¬ κ°„ μμ΅΄μ„± λ¶„μ„
   - μ½”λ“λ² μ΄μ¤ κµ¬μ΅° μ‹κ°ν™”
   - μƒμ„Έν• μ½”λ“ λ©”νƒ€λ°μ΄ν„° μ¶”μ¶

4. **μ„±λ¥ μµμ ν™”**:

   - λ€κ·λ¨ μ½”λ“λ² μ΄μ¤ μ²λ¦¬ μµμ ν™”
   - λ³‘λ ¬ μ²λ¦¬ κµ¬ν„
   - μΊμ‹± μ „λµ λ„μ…

5. **ν…μ¤νΈ κµ¬ν„**:

   - λ‹¨μ„ ν…μ¤νΈ
   - ν†µν•© ν…μ¤νΈ
   - μ„±λ¥/λ¶€ν• ν…μ¤νΈ

6. **λ³΄μ• κ°•ν™”**:

   - μΈμ¦ λ° κ¶ν• κ΄€λ¦¬
   - λ―Όκ°ν• μ½”λ“ ν•„ν„°λ§
   - API ν‚¤ κ΄€λ¦¬

7. **UI ν΄λΌμ΄μ–ΈνΈ κ°λ°**:
   - ν”„λ΅μ νΈ κ΄€λ¦¬ UI
   - μ½”λ“ κ²€μƒ‰ λ° νƒμƒ‰ UI
   - μ½”λ“λ² μ΄μ¤ μ‹κ°ν™”
